<div class="container mt-4">
  <h2>{{ editing ? 'Edit Inventory Item' : 'Add Inventory Item' }}</h2>

  <form [formGroup]="inventoryForm" (ngSubmit)="onSubmit()" class="mb-4">
    <div class="form-group mb-3">
      <label for="productname">Product Name</label>
      <input type="text" id="productname" class="form-control" formControlName="productname" required>
    </div>

    <div class="form-group mb-3">
      <label for="productDetails">Product Details</label>
      <textarea id="productDetails" class="form-control" formControlName="productDetails"></textarea>
    </div>

    <div class="form-group mb-3">
      <label for="price">Price</label>
      <input type="number" id="price" class="form-control" formControlName="price" required>
    </div>

    <div class="form-group mb-3">
      <label for="qty">Quantity</label>
      <input type="number" id="qty" class="form-control" formControlName="qty" required>
    </div>

    <button type="submit" class="btn btn-primary me-2" [disabled]="!inventoryForm.valid">
      {{ editing ? 'Update' : 'Add' }}
    </button>
    <button type="button" class="btn btn-secondary" (click)="cancelEdit()" *ngIf="editing">Cancel</button>
  </form>

  <h4>Inventory List</h4>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Product Name</th>
        <th>Details</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total (Price Ã— Qty)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of inventory">
        <td>{{ item.productname }}</td>
        <td>{{ item.productDetails }}</td>
        <td>{{ item.price }}</td>
        <td>{{ item.qty }}</td>
        <td>{{ item.price * item.qty }}</td>
        <td>
          <button class="btn btn-sm btn-warning me-2" (click)="editInventory(item)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="deleteInventory(item.id!)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

