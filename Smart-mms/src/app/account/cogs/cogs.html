<div class="container">
  <h2>{{ isEditMode ? 'Edit COGS Entry' : 'Add New COGS Entry' }}</h2>

  <form [formGroup]="cogsForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Product Price</label>
      <input type="number" formControlName="productprice" class="form-control" required>
    </div>

    <div class="form-group">
      <label>Transport Fee</label>
      <input type="number" formControlName="transportfee" class="form-control" required>
    </div>

    <div class="form-group">
      <label>Labour Cost</label>
      <input type="number" formControlName="labourcost" class="form-control" required>
    </div>

    <div class="form-group">
      <label>Packing Cost</label>
      <input type="number" formControlName="packingcost" class="form-control" required>
    </div>

    <div class="form-group">
      <label>Tax  (⬇️ Around ~20.5% of CIF=Cost, Insurance, Freight,)</label>
      <input type="number" formControlName="tax" class="form-control" required>
    </div>

    <div class="form-group">
      <label>Total COGS</label>
      <input type="number" class="form-control" [value]="calculateTotalCogs()" readonly>
    </div>

    <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update' : 'Add' }}</button>
    <button type="button" class="btn btn-secondary" (click)="resetForm()">Reset</button>
  </form>

  <hr>

  <h3>COGS Records</h3>
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Product Price</th>
        <th>Transport Fee</th>
        <th>Labour Cost</th>
        <th>Packing Cost</th>
        <th>Tax</th>
        <th>Total COGS</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cogs of cogsList">
        <td>{{ cogs.productprice }}</td>
        <td>{{ cogs.transportfee }}</td>
        <td>{{ cogs.labourcost }}</td>
        <td>{{ cogs.packingcost }}</td>
        <td>{{ cogs.tax }}</td>
        <td>{{ cogs.totalCogs }}</td>
        <td>
          <button class="btn btn-sm btn-info" (click)="editCogs(cogs)">Edit</button>
         <button class="btn btn-sm btn-danger" (click)="deleteCogs(cogs.id!)">Delete</button>

        </td>
      </tr>
    </tbody>
  </table>
</div>
