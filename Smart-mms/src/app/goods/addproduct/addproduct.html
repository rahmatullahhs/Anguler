<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <div class="row mb-3">
    <!-- Category -->
    <div class="col-md-4">
      <label for="categoryId" class="form-label">Category</label>
      <select id="categoryId" class="form-select" formControlName="categoryId">
        <option value="" disabled selected>Select Category</option>
        <option *ngFor="let c of categories" [value]="c.id">{{ c.name }}</option>
      </select>
    </div>

    <!-- Product Name -->
    <div class="col-md-4">
      <label for="name" class="form-label">Product Name</label>
      <input id="name" type="text" class="form-control" formControlName="name" required>
    </div>

    <!-- Brand -->
    <div class="col-md-4">
      <label for="brandId" class="form-label">Brand</label>
      <select id="brandId" class="form-select" formControlName="brandId">
        <option value="" disabled selected>Select Brand</option>
        <option *ngFor="let b of brands" [value]="b.id">{{ b.name }}</option>
      </select>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <label for="processor" class="form-label">Processor</label>
      <input id="processor" type="text" class="form-control" formControlName="processor">
    </div>
    <div class="col-md-4">
      <label for="ram" class="form-label">RAM</label>
      <input id="ram" type="text" class="form-control" formControlName="ram">
    </div>
    <div class="col-md-4">
      <label for="storage" class="form-label">Storage</label>
      <input id="storage" type="text" class="form-control" formControlName="storage">
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <label for="graphicscard" class="form-label">Graphics Card</label>
      <input id="graphicscard" type="text" class="form-control" formControlName="graphicscard">
    </div>
    <div class="col-md-4">
      <label for="monitor" class="form-label">Monitor</label>
      <input id="monitor" type="text" class="form-control" formControlName="monitor">
    </div>
    <div class="col-md-2">
      <label for="price" class="form-label">Price</label>
      <input id="price" type="number" class="form-control" formControlName="price">
    </div>
    <div class="col-md-2">
      <label for="stock_qty" class="form-label">Stock Qty</label>
      <input id="stock_qty" type="number" class="form-control" formControlName="stock_qty">
    </div>
  </div>

  <button type="submit" class="btn btn-primary me-2">{{ editing ? 'Update' : 'Add' }}</button>
  <button *ngIf="editing" type="button" class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
</form>

<div class="mb-3">
  <a routerLink="/addcategory" class="btn btn-outline-info me-2">Go to Categories</a>
  <a routerLink="/addbrand" class="btn btn-outline-secondary">Go to Brands</a>
</div>




<!-- ................... -->
 <h3 class="mt-4">Product List</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Catagory</th>
        <th>Name</th>
        <th>Brand</th>
        <th>Processor</th>
        <th>RAM</th>
        <th>Storage</th>
        <th>Graphics Card</th>
        <th>Monitor</th>
        <th>Price</th>
        <th>Stock Qty</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of products | async ">
        <td>{{ getCategoryName(p.categoryId) }}</td>
        <td>{{ p.name }}</td>
        <td>{{ getBrandName(p.brandId) }}</td>
        <td>{{ p.processor }}</td>
        <td>{{ p.ram }}</td>
        <td>{{ p.storage }}</td>
        <td>{{ p.graphicscard }}</td>
        <td>{{ p.monitor }}</td>
        <td>{{ p.price }}</td>
        <td>{{ p.stock_qty }}</td>
        <td>
          <button class="btn btn-sm btn-primary me-1" (click)="editProduct(p)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="deleteProduct(p.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

