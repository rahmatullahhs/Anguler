<div class="container mt-4">
    <h2 class="mb-4">ðŸ†• Purchase Goods</h2>

    <form [formGroup]="goodsForm" (ngSubmit)="onSubmit()">

        <!-- Product Name -->
        <div class="mb-3">
            <label for="goodsName" class="form-label">Product Name</label>
            <input type="text" class="form-control" id="goodsName" formControlName="goodsName" required />
        </div>

        <!-- Brand -->
        <div class="mb-3">
            <label for="brandId" class="form-label">Brand</label>
            <select class="form-select" id="brandId" formControlName="brandId" required>
                <option value="">-- Select Brand --</option>
                <option *ngFor="let brand of brands" [value]="brand.id">{{ brand.name }}</option>
            </select>
        </div>

        <!-- Category -->
        <div class="mb-3">
            <label for="categoryId" class="form-label">Category</label>
            <select class="form-select" id="categoryId" formControlName="categoryId" required>
                <option value="">-- Select Category --</option>
                <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
            </select>
        </div>

        <!-- Details -->
        <div class="mb-3">
            <label for="details" class="form-label">Details</label>
            <textarea class="form-control" id="details" formControlName="details" rows="3"></textarea>
        </div>
        
        <!-- Supplier -->
        <div class="mb-3">
            <label for="supplierId" class="form-label">Supplier</label>
            <select class="form-select" id="supplierId" formControlName="supplierId">
                <option value="">-- Select Supplier --</option>
                <option *ngFor="let supplier of suppliers" [value]="supplier.id">{{ supplier.name }}</option>
            </select>
        </div>

        <!-- Invoice -->
        <div class="mb-3">
            <label for="invoice" class="form-label">Invoice</label>
            <input type="text" class="form-control" id="invoice" formControlName="invoice" />
        </div>



        <!-- Date -->
        <div class="mb-3">
            <label for="date" class="form-label">Date</label>
            <input type="date" class="form-control" id="date" formControlName="date" />
        </div>

        <!-- Quantity -->
        <div class="mb-3">
            <label for="qty" class="form-label">Quantity</label>
            <input type="number" class="form-control" id="qty" formControlName="qty" (blur)="onFocusLost()" />
        </div>

        <!-- Price -->
        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input type="number" class="form-control" id="price" formControlName="price" (blur)="onFocusLost()" />
        </div>

        <!-- Discount -->
        <div class="mb-3">
            <label for="discount" class="form-label">Discount (%)</label>
            <input type="number" class="form-control" id="discount" formControlName="discount" (blur)="onFocusLost()" />
        </div>

        <!-- Paid -->
        <div class="mb-3">
            <label for="paid" class="form-label">Paid</label>
            <input type="number" class="form-control" id="paid" formControlName="paid" (blur)="onFocusLost()" />
        </div>

        <!-- Due (auto-calculated) -->
        <div class="mb-3">
            <label for="due" class="form-label">Due</label>
            <input type="number" class="form-control" id="due" formControlName="due" readonly />
        </div>

        <!-- Submit -->
        <button type="submit" class="btn btn-primary" [disabled]="goodsForm.invalid">Add Product</button>
        <button type="button" class="btn btn-secondary ms-2" routerLink="/viewgoods">Cancel</button>
    </form>
</div>